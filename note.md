# agenda

1. 自己紹介
1. テスト自体について
  - iOSアプリのテストパターン
  - テストの着手時期について
1. テストケースについて
  - ５０回連続テスト
  - APCでのテストケース全体から見たパターンについて
  - 効果的なテストパターン
1. まとめ

---

# 自己紹介

- 最近になってiOS Swiftし始めた（１ヶ月もない）
- 元プロジェクトでObjective-C, Swiftで自動UIテストを実施していた
- 難しいのかな？と思っていたが意外と簡単だった
- 書き方が分からなくてもヒントはXcodeがくれる事が分かった
- **序文だけでも共有したい**

---
layout: true
テスト自体について
---

# iOSアプリのテストパターン

- ロジック確認の単体テスト
- **部分シナリオのUIテスト**
- end to endのシナリオのインテグレーションテスト

---
layout: true
テスト自体について
---

# テストの着手時期について

画面部品の状況変化によって、確認したい内容の変化

1. ＜序盤＞
  - 状況：画面部品が揃わない
  - 確認：状態変化の妥当性
1. **＜中盤＞**
  - **状況：画面部品が揃いきった**
  - **確認：反復操作への耐久性**
1. ＜終盤＞
  - 状況：画面部品の再利用の機会が増えた
  - 確認：既存部品への影響度

---
layout: true
テストケースについて
---

# ５０回連続操作して<br>OutOfMemory</span><br>の発生可否を確認する

1. 他人力
  - テスターを雇ってお任せする
1. 自力
  - 手動で頑張ってナントカやる
1. **自動化**
  - **PCに任せてしまう**

---
layout: true
テストケースについて ５０回連続操作
---

## 他人力＆自力

- １操作４秒で、５０操作２００秒後に終わる予定（＝３分２０秒）
- 一見処理速度は速いが所詮人間なので***途中でダレる***事が十分予想される
  - 本当に３分２０秒で終わるか分からない
  - 本当に５０操作するとも限らない

---
layout: true
テストケースについて ５０回連続操作
---

## 自動化

- １操作６秒で、５０操作３００秒（＝５分）
- 常に１操作６秒なので、**５分で終わるのは確定予測**
- おまけ
  - 自動化の仕方がわかりにくくても、Xcodeには操作を追跡してテストコードを書く機能がある


---
layout: true
テストケースについて
---

# APCでのテストケース全体から見たパターンについて

- 正常系確認
- **正常系苦行**
- 異常系確認
- **異常系苦行**
- **OutOfMemory苦行**
- インテグレーションテスト

---
layout: true
テストケースについて
---

# 効果的なテストパターン

- 苦行系
  - 正常系苦行
  - 異常系苦行
  - OufOfMemory苦行

---

layout: false

# まとめ

- メリット
  - 苦行の通常タスク化
- デメリット
  - 不安に対する思考停止

???

- メリット
  - 一見無駄っぽい苦行系テストの真理に近付ける。
- デメリット
  - 自動なので、テスト観点が無くても実施してしまいやすい。
